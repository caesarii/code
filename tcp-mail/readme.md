SMTP客户端实现 - Rubia的文章 - 知乎
https://zhuanlan.zhihu.com/p/607479214

https://www.zhihu.com/column/c_1421440163804934144

https://codeleading.com/article/909980918/

https://cloud.tencent.com/developer/article/2067473

响应状态码

SMTP响应代码列表可用于帮助快速确定为什么电子邮件被退回，或者为什么在发送电子邮件时收到SMTP错误。

但是，如果您不熟悉SMTP监视，那么理解所有这些SMTP电子邮件状态代码可能会让人不知所措。

这就是为什么在此文章中，我们将为您提供21种最常见的SMTP响应代码，以及推荐的免费SMTP服务器测试工具的链接。

首先，让我们开始讨论什么是SMTP响应代码

SMTP响应代码剖析
在我们最近的文章中，我们讨论了电子邮件状态代码，并说明了当您的电子邮件程序发出请求时，接收邮件服务器将返回指示消息状态的代码。该代码称为“ SMTP响应代码”。

SMTP响应代码由三个数字组成：

错误代码类别：此第一位数字指示服务器是否接受命令。有五个可能的值，范围从1-5。每个值定义服务器是否已接受命令，执行了操作，遇到临时问题，遇到错误等。
主题： SMTP响应代码中的第二位数字为您提供了更多信息，指出是否存在语法问题，连接故障或其他问题。
详细信息：最后一个数字提供有关邮件传输状态的更多信息。
现在，您已经基本了解SMTP响应代码是什么，下面是RFC821中 列出的21种常见SMTP响应代码（RFC代表“请求注释”文档，并且已经使用40多年了。定义新标准并共享技术信息，例如SMTP中继的工作方式）。

用于电子邮件监控的21个常见SMTP响应代码
SMTP代码固有的一个问题是，不同的服务器以不同的方式使用代码，因此无法确定地声明每个代码的含义。在阅读下面的每个响应代码时，请记住，根据邮件服务器的设置方式，其含义可能会有所不同。

1）220-SMTP服务就绪。这是一条一般性答复，指出SMTP服务器已准备好继续下一条命令。

2）221-服务关闭。该响应表明会话或与邮件服务器的连接正在结束，并且所有过程都已完成。最终结果可能是成功或失败。

3）250-采取并完成了请求的操作。这是发件人最好的消息，因为它表明SMTP通信已成功。SMTP响应代码250也是SMTP中最常见的响应代码，因为它是对每个接受的命令进行响应而发出的（每个消息大概4到6次）。

4）354-开始输入消息并以…结尾。这表明服务器已准备好接受消息本身。

5）421-服务不可用，连接将关闭。如果您收到“ SMTP错误（421）连接服务器故障”，则可以将其视为开放式错误，这通常与目标服务器“不可访问”有关。但是，这也可能意味着您的发送邮件服务器不可达。如果您使用远程邮件服务器进行发送，则需要确保其正常工作并且连接成功。您可以使用此工具测试SMTP连接。

6）450-请求的命令失败，因为用户的邮箱不可用（例如因为它已被锁定），请稍后再试。此响应代码还可能具有一些其他含义，例如：

a）收件人账户中不再存在电子邮件帐户
b）电子邮件账户中没有接收电子邮件的权限
c）收件人邮件服务器拒绝了到期的电子邮件进入黑名单或过滤如何解决SMTP错误450：

验证您尝试联系的电子邮件账户是否存在
检查您的邮件服务器的IP地址是否列入黑名单。在MailPick，我们强烈建议MX Toolbox运行黑名单检查.
如果您的电子邮件似乎是垃圾邮件，请从邮件中删除所有垃圾邮件内容
如果您使用附件，请尝试发送不带附件的电子邮件
7）451-由于服务器错误，命令已中止。通常这不是你的错，因为接收邮件服务器的规则可能阻止了邮件的处理。

8）452-该命令已中止，因为服务器的系统存储空间不足。这通常是由于尝试一次发送太多邮件时邮件服务器超载引起的。要解决此问题，请查看您的邮件队列并使用适当的发送速率

9）455-服务器此时无法处理该命令。如果您收到此消息，请留出更多时间尝试。如果不成功，请与收件人邮件服务器方面的管理员联系。

10）500-服务器由于语法错误而无法识别命令。此响应可能是有防病毒软件或防火墙软件引起的。若要确认是这种情况，请尝试禁用每一个来测试连接

11）501-命令参数中遇到语法错误。这类似于SMTP响应代码500。但是，501响应通常是由错误/无效的电子邮件地址引起的。

12）502-未实现此命令。如果收到此响应，则很可能是您的基础MTA遇到配置问题。查看您的MTA的配置，然后尝试重新连接。

13）503-服务器遇到了错误的命令序列。此响应表明所使用的参数与邮件服务器的预期顺序不符，这通常在不对电子邮件账户进行身份验证时发生。要解决此错误，请验证您的电子邮件账户是否正确进行身份验证，并确保所有MTA配置正确无误。

14）504-未实现命令参数。这与SMTP响应代码502非常相似。

15）521-该主机从不接受邮件；虚拟服务器的响应。此响应仅表示收件人邮件服务器不接受和传递电子邮件。要修复SMTP 521错误，请检查以确保邮件实际上是失败的并且没有被中继。

16）541-由于策略原因而无法传递该邮件，通常是垃圾邮件过滤器（仅某些SMTP服务器返回此错误代码。）如果您收到此SMTP响应，则表明您的电子邮件可能已被标记为垃圾邮件。确认您的服务器没有发送垃圾邮件并且不在任何黑名单中。

SMTP电子邮件状态码500
以下SMTP500响应代码是您需要注意的一些最重要的SMTP响应代码。

17）550 -请求的命令失败，因为用户的邮箱不可用，例如因为找不到用户邮箱，或者由于策略原因而拒绝了该命令。此外，SMTP响应代码550通常还用于指示永久失败的其他实例。例如，“ 550邮件服务器将您的邮件检测为垃圾邮件并阻止了传递。”

18）551-收件人不在服务器本地。然后，服务器提供转发地址以进行尝试。这通常用作垃圾邮件预防策略。

19）552-由于超出了存储分配，操作被中止。这通常是由于收件人的邮件服务器太满。这可能是因为收件人没有检查电子邮件，或者在某些极端情况下收件人是邮件爆炸的受害者。

20）553-由于邮箱名称无效，命令被中止。在这种情况下，邮箱无法验证电子邮件地址。检查以确保您要发送到的所有电子邮件地址都是正确的。

21）554 —发送错误：对不起，您无法发送消息。此邮箱已禁用。如果您收到SMTP代码554，则这只是正常的无效地址响应。检查电子邮件地址，然后重试。

遇到SMTP响应代码时的处理方法
首先，不要惊慌！

SMTP响应代码只是服务器相互通信的一种简单方法。

如果您收到SMTP响应，那么第一步就是问自己为什么收到响应。这通常从一些简单的研究开始。

为了使研究更加容易，我们强烈建议您在此页面上添加书签，以备日后在遇到SMTP响应代码时快速，轻松地参考。

您会发现，在大多数情况下，电子邮件回复代码可能不需要你采取任何措施。

但是，如果由于无效地址或永久性故障而收到SMTP错误，那么从您的电子邮件列表中删除失败的地址将是一个好主意，这样以后您就不会再重复发送到相同的错误电子邮件地址了。这是因为发送到错误的电子邮件地址将损害您的发件人信誉。

如果您使用的是MailPick等SMTP中继服务，那么我们会自动为您添加错误的电子邮件地址到“禁止列表”中。

这篇文章总结了我们在发送电子邮件和监控邮件传递时可能遇到的一些最常见的SMTP响应代码。需要进一步帮助解决MailPick脉客邮SMTP响应代码错误如何处理，请在线联系我们。